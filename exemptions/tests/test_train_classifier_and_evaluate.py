from unittest import TestCase
import os
import spacy

class TestTrain_classifier_and_evaluate(TestCase):
    def test_train_doc_classifier_and_evaluate(self):
        output_dir = os.path.join(os.getcwd(), '..', '..', '..', 'data', 'document_classifier')
        nlp = spacy.load(output_dir)
        test_text = "Graford Independent School District District of Innovation Plan Composed February 2017 District of Innovation Committee Wes Corzine – Elementary Principal Lori Henderson – Secondary Principal Ty Tabor – Athletic Director Jamye Hayes – Elementary Teacher Chris Thompson – Director of Technology District of Innovation Timeline December 15 Board Resolution to start process January 26 Public Hearing Board Appoints district committee February 2, 6, 9, 17 Committee meets February 14, 16 Public Information meetings February 23 Committee reports to Board on recommendations March 9 DOI Plan approved by District SBDM and post to web-site March 30 Review of DOI plan by Board and plan to notify TEA of intent April 27 Board final approval of DOI Paperwork submitted to TEA District of Innovation – HB 1842 The District of Innovation concept, passed by the 84th Legislative Session in House Bill 1842, gives traditional independent school districts most of the flexibilities available to Texas open-enrollment charter schools. Being a District of Innovation gives more local control, flexibility, and customization to better serve the needs of the local students. Graford ISD District of Innovation Plan START DATE/END DATE Current Law: TEC 25.0811 – A school district may not begin instruction for students before the 4th Monday of August. TEC 25.0812 – A school district may not schedule the last day of school for students for a school year before May 15 GISD Plan: Having the flexibility to start prior to the 4th Monday in August will allow for a more balanced semester calendar, allow for school to be completed prior to Memorial Day, allows for more instruction time prior to the State Assessments given toward the end of the year. With the required 75,600 minutes of instruction requirement, GISD may be able to finish the school year prior to May 15. LENGTH OF SCHOOL DAY Current Law: TEC 25.081 – For each school year each school district must operate so that the district provides for at least 75,600 minutes. A school day consists of 420 minutes of instruction. GISD Plan: Graford ISD plans to occasionally, throughout the school year, have school less than 420 minutes per day. Shortening the school day will allow the flexibility to provide accelerated instruction, staff development, and a number of possibilities to best serve the students of Graford ISD. TEACHER CERTIFICATION Current Law: TEC 21.003 - A person may not be employed as a teacher, teacher intern or teacher trainee, librarian, educational aide, administrator, educational diagnostician, or school counselor by a school district unless the person holds an appropriate certificate. GISD Plan: In order to best serve the students of Graford ISD, decisions on certification will be handled locally. a. An individual with experience in a CTE field could be eligible to teach a vocational skill or course through a local teaching certificate. The principal will submit the request to the superintendent with all the individual’s credentials. The superintendent will then approve the request if they feel the individual could be an asset to students. The superintendent will then report this action to the Board of Trustees prior to the individual beginning any employment. The employee will be at-will. b. This plan will allow more flexibility in our scheduling, allow for filling hard to fill positions, and will provide more options for our students in class offerings. PROBATIONARY CONTRACT Current Law: TEC 21.202 a person who is employed as a teacher by a school district for the first time, or who has not been employed by the district for two consecutive school years subsequent to August 28, 1967, shall be employed under a probationary contract. A person who previously was employed as a teacher by a district and, after at least a two-year lapse in district employment returns to district employment, may be employed under a probationary contract. GISD Plan: The district will have the right to extend the continuation of probationary contract status for teachers with 5 or more years of experience and are new to the District, at the discretion of administration, if it is in the best interest of the district. DESIGNATION OF CAMPUS BEHAVIOR COORDINATOR Current Law: TEC 37.0012. A person at each campus must be designated to serve as the campus behavior coordinator. The person designated may be the principal of the campus or any other campus administrator selected by the principal. GISD Plan: Due to the size of Graford ISD, the district is waiving the requirement of designating a Campus Behavior Coordinator. The discipline decisions of students is made by the Campus Principal when appropriate, otherwise the discipline decision is made by the appropriate administrator/designee. CLASS SIZE Current Law: TEC 25.112. A school district may not enroll more than 22 students in a kindergarten, first, second, third, or fourth grade class. GISD Plan: At the discretion of Administration, Graford ISD may enroll more than 22 students in a class in grades Kindergarten, First, Second, Third or Fourth grade, as appropriate. TEACHER CONTRACTS Current Law: TEC 21.401 (b.) An educator employed under a 10-month contract must provide a minimum of 187 days of service. GISD Plan: Teacher contracts days will be reduced from 187 to 182 with no effect on teacher salaries. This stems from an attempt to align the teacher days to the 75,600 minutes required of students. \uf0b7 This plan will increase the daily rate the district pays teachers \uf0b7 This plan will provide teachers more opportunities during the year to seek out beneficial staff development that relates to their field \uf0b7 This plan should enhance teacher recruitment"
        doc = nlp(test_text)
        self.assertGreater(float(doc.cats['INNOVATION']), .8)

    def test_train_term_classifier_and_evaluate(self):
        output_dir = os.path.join(os.getcwd(), '..', '..', '..', 'data', 'date_term_classifier')
        nlp = spacy.load(output_dir)
        test_text = "This plan will begin in the 2017-2018 school year and continue until."
        doc = nlp(test_text)
        self.assertGreater(float(doc.cats['TERM']), .5)
