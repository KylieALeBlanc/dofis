from unittest import TestCase
import os
from exemptions import start
from exemptions import extract_dates



class TestGet_term_date_and_phrase(TestCase):
    def test_get_term_date_and_phrase(self):
        output_dir = os.path.join(start.data_path, 'date_term_classifier')

        test = "Wylie ISD INNOVATION PLAN INTRODUCTION House Bill (HB) 1842, passed during the 84th Legislative Session, permits Texas public school districts to become Districts of Innovation and to obtain exemption from certain provisions of the Texas Education Code. Potential benefits of becoming a District of Innovation include: • Flexibility: Districts will have the flexibility to implement practices similar to charter schools, including exemptions from certain mandates including the uniform school start date and required minutes of instruction. • Local control: Districts decide which flexibilities best suit their local needs. • Autonomy: Districts must submit a District of Innovation Plan to the commissioner of education, but commissioner approval is not required. On November 17, 2016, the Wylie Independent School District’s Board of Trustees (“Board”) passed a Resolution to explore the development of a District of Innovation Plan to increase local control over District operations and to support innovation and local initiatives. The adoption of this plan seeks to increase the District’s flexibility in order to improve educational outcomes for the benefit of students and the community. On December 8, 2016, the Superintendent appointed a 22-member District of Innovation Committee (“Committee”) comprised of diverse leaders representing a cross-section of the District’s stakeholders including teachers, principals, parents, community members, and administrators. The Committee met on December 14, 2016 and January 25, 2017 to discuss and draft the Local Innovation Plan (“Plan”). The District-Wide Educational Improvement Committee met on January 26, 2017 to review and approve the proposed District of Innovation Plan. The Wylie ISD Board of Trustees will consider the Plan at its meeting on March 20, 2017. DISTRICT OF INNOVATION TIMELINE FOR Wylie ISD November 7 Attend District of Innovation Summit at Mansfield ISD November 15 Scheduled Instructional Focus Meeting Overview Presentation of District of Innovation November 17 Board adopts Resolution to develop District of Innovation Plan December 8 Board holds public hearing in accordance with statute/ delegates authority to Supt to appoint committee December 14 District of Innovation Committee Meets to review draft of proposed plan January 2 Senior Leadership Team meets to discuss District of Innovation Plan January 10 Scheduled Instructional Focus Meeting - Presentation of District of Innovation Plan January 23 Board update from District of Innovation Committee/Board provides input January 25 District of Innovation Committee meeting to finalize District of Innovation Plan January 26 DWEIC meeting to approve plan Feb 1 – March 2 District of Innovation Plan posted on District Website for 30 days March 3 District of Innovation Plan presented to Board; Board votes to notify Commissioner of Education intention to vote on adopting DOI Plan March 20 Board meeting – Board votes on District of Innovation Plan March 21 Board of Trustees formally notifies the Texas Commissioner of Education the District of Innovation Plan is adopted District of Innovation Committee Name Position Tom Westhora Board Member Barbara Goss Board Member Kim Spicer Asst. Superintendent of Curriculum and Instruction Michele Trongaard Asst. Superintendent of Finance and Operations Scott Winn Asst. Superintendent for Human Resources & Student Services Ian Halperin Executive Director of Communications/Community Relations Kyle Craighead Executive Director of Athletics Glenn Lambert Director of Fine Arts Jason Hudson Director of Career and Technical Education Kelly Morton Principal, Smith Elementary School Christa Smyder Principal, Harrison Intermediate School Jon Peters Principal, McMillan Junior High Mike Williams Principal, Wylie East High School Nancy Butler Teacher, Hartman Elementary School Diana Caldwell Teacher, McMillan Junior High School Ann Darby Teacher, Davis Intermediate School Robyn Bray Teacher, Wylie East High School Karrie George Teacher, Wylie High School Sam Satterwhite Community Member Stephen Perkins Community Member Suzi Kennon Parent Heidi Pecoy Parent TERM The term of the Plan is for five years, beginning March 20, 2017 and ending March 20, 2022, unless terminated or amended earlier by the Board of Trustees in accordance with the law. If, within the term of this Plan, other areas of operations are to be considered for flexibility as part of HB 1842, the Board will appoint a new committee to consider and propose additional exemptions in the form of an amendment to the Plan. Any amendment adopted by the Board will not extend the term of this Plan. The District may not implement two separate plans at any one time. MISSION The mission of Wylie ISD is to sustain a culture of high expectations while valuing unity, relationships, and trust. We Believe: • Character and community values are essential to building responsible citizens • High expectations and accountability should be expected from all students and staff • Exemplary employees make an exemplary difference • As Wylie ISD grows, we will sustain our level of excellence in all operations • Wylie ISD graduates must be challenged and equipped to succeed in the 21st Century Strategic Goals: • Instill community and ethical values in our students • Ensure academic achievement for every student through tight family partnerships, curriculum, and programs • Attract, retain, and value a quality staff • Manage growth in a way that provides o Functional equity o Financial responsibility o Assurance for all student needs • Prepare students for a successful life beyond high school • Celebrate our Excellence AREAS OF INNOVATION With regard to each area of innovation, the District declares exemption from the listed statutory provisions, as well as any implementing rules or regulations promulgated pursuant to those statutory provisions by any state agency or entity, including but not limited to the Commissioner of Education, Texas Education Agency, State Board for Educator Certification, and State Board of Education. School Start and End Date Exemption from: TEC §25.0811; TEC §25.0812 Related Board Policies: EB LEGAL Manner in which statute inhibits the goals of the plan: TEC 25.0811 states that a school district may not begin student instruction before the 4th Monday of August. TEC 25.0812 states that a school district may not schedule the last day of school before May 15. The current process allows no flexibility in the design of annual calendars to fit the needs of the community or the wishes of the local Board of Trustees who represent community interests in this matter. Previously, districts had the option of applying to TEA for a waiver to start earlier, even as early as the 2nd Monday in August. The Texas tourism groups lobbied to have this stopped because they believed it was hurting their tourism business. Therefore, several years ago the legislature took away all waivers and dictated that districts may not begin until the 4th Monday, with no exceptions. Innovation Strategies • Relief from the statute will allow Wylie ISD to develop a calendar that addresses student instruction and focused professional development in conjunction with the new instructional minutes requirement, rather than days. • Relief from the statute will enable Wylie ISD to align the district calendar with local universities, advanced placement exams, and STAAR timelines. • Provide for increased local control of the instructional calendar in order to be responsive to community needs. Instructional Minutes / Length of Instructional Day / Early Release Days Exemption from: TEC 25.081 Relevant Board Policies: EBLEGAL Manner in which statute inhibits the goals of the plan: TEC 25.081 requires that a school district provide at least 75,600 minutes of instruction each school year, including intermission and recess. School districts must seek a waiver of this requirement from TEA in order to provide fewer than the required number of instructional minutes in the case of natural disaster or calamity. This requirement restricts the District in the development of the academic calendar, including the scheduling of early release days and staff development days. TEC 25.081(e) references a day of instruction as 420 minutes Innovation Strategies • Although all students will still be required to receive 75,600 minutes of instruction, the flexibility to adjust when those minutes of instruction are accrued will allow Wylie ISD to more effectively meet the needs of our students taking dual credit course offerings by affording the district the ability to match the days and times met with the cooperating college offerings. • This exemption will also allow Wylie ISD to alter the length of the school day or school year in the cases of inclement weather. Probationary Contracts Exemption from: TEC 21.102(b) Relevant Board Policies: DCA LEGAL Manner in which statute inhibits the goals of the plan: For experienced teachers new to the district, the probationary period may not exceed one year if the person has been employed as a teacher in public education for at least five of the previous eight years. A one-year probationary period is not sufficient to evaluate the teacher’s effectiveness in the classroom since teacher contract renewal timelines demand that employment decisions be made prior to District receipt of state assessment results. Innovation Strategies • For experienced teachers, counselors, or nurses new to the district that have been employed as a teacher in public education for at least five of the eight previous years, a probationary contract may be issued for up to two years. All other teachers hired in the District may remain on probationary status for three years, and may be issued a fourth year of probation in accordance with TEC 21.102(c). Teacher Certification Exemption from: TEC §21.003 Relevant Board Policies: DBA LEGAL; DK LEGAL Manner in which statute inhibits the goals of the plan: TEC 21.003 states that a person may not be employed as a teacher, teacher intern or trainee, librarian, educational aide, administrator, educational diagnostician, or school counselor by a school district unless the person holds an appropriate certificate or permit issued by the appropriate state agency. In the event a district cannot locate a certified teacher for a position or a teacher is teaching a subject outside of their certification, the district must request emergency certification from the Texas Education Agency and/or State Board for Educator Certification. This system is burdensome and does not take into account the unique financial and/or instructional needs of the district. Innovation Strategy • The current state teacher certification requirements could potentially inhibit the District's ability to hire teachers to teach only specialized Career and Technical Education (CTE) courses. In order to enable more students to obtain the educational benefit of specialized CTE course offerings, the District seeks to establish its own local qualification requirements and its own requirements for training of professionals and experts to teach CTE courses in lieu of the certification requirements set forth in law. By obtaining exemption from existing teacher certification requirements for only specialized CTE course offerings, the District will have the flexibility to hire community college instructors, university professors, business professionals or certified teaching professionals seeking assignments outside of their certification area. This innovation has the potential to enrich applicant pools in specialized CTE course offerings and afford more students the opportunity to take courses if state certified teachers are not available to teach those courses."
        start_date, phrase, p = extract_dates.get_term_date_and_phrase(test, output_dir)
        print(phrase)
        print(start_date)
        print(phrase)

        test = 'ECISD District of Innovation Plan 1 I. Introduction House Bill 1842, passed during the 84th ' \
               'Legislative Session, permits Texas public school districts to become Districts of Innovation and to ' \
               'obtain exemption from certain provisions of the Texas Education Code. On February 21, 2017 the Ector ' \
               'County Independent School District’s Board of Trustees (“Board”) passed a resolution to initiate the ' \
               'Process of Designation as a District of Innovation in order to increase local control over District ' \
               'operations and to support innovation and local initiatives to improve educational outcomes for the ' \
               'benefit of students and the community. On February 28, 2017, the Board appointed an eighteen member ' \
               'District of Innovation Committee (“Committee”) comprised of district leaders, teachers, parents, ' \
               'and community members representing a variety of roles and responsibilities. The Committee met on ' \
               'March 2, 6, and 10, 2017, to discuss and draft this Local Innovation Plan (“Plan”). Based on ' \
               'direction provided by the Board and input from various District stakeholders, the Committee proposes ' \
               'this Plan. II. Term The term of the Plan will begin with the 2017-2018 school year and terminate at ' \
               'the end of the 2021-2022 school year, to include anything amended, rescinded, or renewed with the ' \
               'approval of the District of Innovation Committee (DOI), the District Continuous Improvement Team (' \
               'DCIT) and the Board of Trustees. The DOI committee will review the Plan annually, and as needed, ' \
               'to confirm consistent alignment with the needs of the District.'
        start_date, phrase, p = extract_dates.get_term_date_and_phrase(test, output_dir)
        self.assertEqual(2017, start_date)
        self.assertIsNotNone(phrase)
        self.assertLess(.5, p)

        test = 'hello'
        start_date, phrase, p = extract_dates.get_term_date_and_phrase(test, output_dir)
        self.assertEqual(-999, start_date)
        self.assertEqual('', phrase)
        self.assertEqual(0, p)

        test = 'ECISD District of Innovation Plan 1 I. Introduction House Bill 1842, passed during the 84th ' \
               'Legislative Session, permits Texas public school districts to become Districts of Innovation and to ' \
               'obtain exemption from certain provisions of the Texas Education Code. The plan will begin in 2017.'
        start_date, phrase, p = extract_dates.get_term_date_and_phrase(test, output_dir)
        self.assertEqual(2017, start_date)
        print(p)
        print(phrase)


